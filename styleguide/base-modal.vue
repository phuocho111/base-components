<template>
  <div class="base-modal-container">
    <div class="mb-4 col">
      <span @click="openModal(0)">Click to Open "Modal Default"</span>
      <span @click="openModal(1)">Click to Open "Modal With Content"</span>
      <span @click="openModal(2)">Click to Open "Modal Disable Button"</span>
      <span @click="openModal(3)"
        >Click to Open "Modal Hide Delete Button"</span
      >
      <span @click="openModal(4)"
        >Click to Open "Modal With Confirm Event When Data Change"</span
      >
    </div>
    <div class="mb-4">
      <BaseModal
        :visible="visible[0]"
        :current-record="1"
        :total-records="128"
        title="販売先詳細"
        account-name="Account Name"
        @click="handleActionModal($event, 0)"
        @change="handleChangeItem($event)"
      />
      <BaseModal
        :visible="visible[1]"
        :current-record="1"
        :total-records="128"
        title="販売先詳細"
        account-name="Account Name"
        date="2023/04/07 16:06"
        @click="handleActionModal($event, 1)"
        @change="handleChangeItem($event)"
      >
        <div>
          <svg
            width="800"
            height="1000"
            viewBox="0 0 820 auto"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1495_38211)">
              <rect width="820" height="78" fill="#0D141A" />
              <path
                d="M42.03 35.634V36.866C42.38 36.824 42.94 36.81 43.206 36.81H46.356V43.25H42.408C42.03 43.25 41.596 43.222 41.176 43.166V44.44C41.61 44.398 42.03 44.384 42.408 44.384H51.662C51.942 44.384 52.446 44.384 52.824 44.44V43.166C52.46 43.208 52.082 43.25 51.662 43.25H47.546V36.81H50.906C51.298 36.81 51.746 36.824 52.096 36.866V35.634C51.76 35.676 51.326 35.718 50.906 35.718H43.206C42.926 35.718 42.394 35.69 42.03 35.634ZM65.564 34.374H64.248C64.29 34.724 64.318 35.116 64.318 35.592V37.804C64.318 40.45 64.15 41.584 63.156 42.746C62.288 43.726 61.098 44.286 59.81 44.608L60.72 45.574C61.742 45.224 63.142 44.622 64.052 43.53C65.06 42.326 65.522 41.22 65.522 37.86V35.592C65.522 35.116 65.536 34.724 65.564 34.374ZM59.068 34.486H57.794C57.822 34.752 57.85 35.242 57.85 35.494V40.156C57.85 40.576 57.808 41.024 57.78 41.234H59.068C59.04 40.982 59.012 40.52 59.012 40.17V35.494C59.012 35.158 59.04 34.752 59.068 34.486ZM82.434 35.536L81.748 34.878C81.538 34.92 81.034 34.962 80.768 34.962H72.732C72.214 34.962 71.626 34.906 71.136 34.836V36.11C71.682 36.054 72.214 36.026 72.732 36.026H80.712C80.25 36.894 78.934 38.42 77.646 39.162L78.57 39.904C80.166 38.798 81.496 36.992 82.056 36.04C82.154 35.886 82.336 35.676 82.434 35.536ZM76.848 37.384H75.588C75.63 37.748 75.644 38.056 75.644 38.392C75.644 40.73 75.336 42.718 73.166 44.048C72.774 44.328 72.298 44.552 71.906 44.678L72.942 45.518C76.512 43.74 76.848 41.178 76.848 37.384Z"
                fill="#99B4CC"
              />
              <path
                d="M221.605 36.563C220.864 35.952 219.447 34.899 218.355 34.171L217.718 34.86C218.81 35.601 220.214 36.68 220.968 37.343L221.605 36.563ZM215.625 38.045C215.378 39.462 214.858 41.204 214.143 42.322L215.04 42.699C215.768 41.555 216.249 39.709 216.535 38.266L215.625 38.045ZM219.577 44.935C218.836 44.935 218.693 44.818 218.693 44.207V42.79C221.345 40.723 223.425 38.084 224.894 35.302L223.932 34.912C222.749 37.291 220.955 39.644 218.693 41.568V37.278H217.692V42.374C216.6 43.193 215.417 43.908 214.156 44.48C214.351 44.662 214.637 45.013 214.78 45.234C215.807 44.74 216.769 44.168 217.692 43.544V44.194C217.692 45.533 218.095 45.884 219.499 45.884H222.112C223.516 45.884 223.841 45.182 223.984 42.881C223.698 42.816 223.295 42.647 223.035 42.452C222.944 44.519 222.827 44.935 222.073 44.935H219.577ZM223.256 38.877C224.114 40.164 224.985 41.906 225.323 43.05L226.233 42.608C225.882 41.464 225.011 39.761 224.114 38.487L223.256 38.877ZM237.959 38.786H233.604V37.538H237.959V38.786ZM237.959 40.762H233.604V39.488H237.959V40.762ZM237.959 42.738H233.604V41.464H237.959V42.738ZM232.694 36.784V43.492H238.908V36.784H235.84C235.97 36.42 236.1 36.004 236.23 35.601H239.363V34.756H232.096V35.601H235.125C235.06 35.978 234.956 36.407 234.865 36.784H232.694ZM230.809 34.353C230.042 35.263 228.677 36.264 227.546 36.836C227.806 37.005 228.092 37.304 228.261 37.525C229.431 36.849 230.809 35.796 231.719 34.73L230.809 34.353ZM231.043 37.967C230.289 38.981 228.898 40.021 227.715 40.619C227.975 40.814 228.248 41.126 228.43 41.36C229.665 40.645 231.056 39.501 231.927 38.344L231.043 37.967ZM231.316 41.581C230.536 42.946 229.015 44.22 227.507 44.935C227.767 45.143 228.053 45.468 228.196 45.702C229.795 44.857 231.316 43.479 232.226 41.932L231.316 41.581ZM234.15 43.778C233.513 44.337 232.187 44.974 231.082 45.312C231.264 45.507 231.563 45.806 231.693 46.001C232.824 45.624 234.15 44.961 234.982 44.311L234.15 43.778ZM236.334 44.35C237.205 44.818 238.349 45.533 238.908 46.014L239.662 45.429C239.064 44.948 237.92 44.259 237.049 43.83L236.334 44.35Z"
                fill="#22C5E6"
              />
              <path
                d="M282.184 43.778V36.238H284.602C284.498 38.643 284.16 40.463 282.379 41.451C282.587 41.62 282.873 41.945 282.99 42.166C284.979 40.996 285.395 38.968 285.538 36.238H287.254V39.956C287.254 40.749 287.345 40.957 287.566 41.126C287.774 41.282 288.125 41.347 288.424 41.347H289.308C289.568 41.347 289.906 41.321 290.088 41.23C290.309 41.139 290.452 40.996 290.543 40.762C290.634 40.541 290.66 39.917 290.686 39.384C290.439 39.319 290.114 39.15 289.945 38.994C289.932 39.553 289.919 39.995 289.88 40.177C289.841 40.359 289.763 40.463 289.672 40.502C289.594 40.528 289.399 40.541 289.243 40.541H288.645C288.489 40.541 288.372 40.528 288.281 40.489C288.203 40.437 288.177 40.294 288.177 40.047V36.238H290.829V43.778H282.184ZM281.209 35.302V45.624H282.184V44.688H290.829V45.52H291.83V35.302H281.209ZM299.89 42.439V40.255H302.49V39.423H299.89V37.577H302.815V36.706H296.172V37.577H298.98V39.423H296.536V40.255H298.98V42.439H295.99V43.258H303.075V42.439H299.89ZM300.709 40.827C301.177 41.269 301.723 41.893 301.97 42.296L302.633 41.906C302.373 41.503 301.801 40.905 301.32 40.489L300.709 40.827ZM295.132 44.454V35.614H303.829V44.454H295.132ZM294.17 34.717V46.001H295.132V45.351H303.829V46.001H304.83V34.717H294.17Z"
                fill="#22C5E6"
              />
              <path d="M765 42L761 36H769L765 42Z" fill="#5B758C" />
              <path d="M780 77.5H40V78.5H780V77.5Z" fill="#1A2733" />
            </g>
          </svg>
        </div>
      </BaseModal>
      <BaseModal
        :visible="visible[2]"
        :current-record="1"
        :total-records="128"
        title="販売先詳細"
        account-name="Account Name"
        date="2023/04/07 16:06"
        :disabled-cancel-action="true"
        :disabled-submit-action="true"
        :disabled-delete-action="true"
        @click="handleActionModal($event, 2)"
        @change="handleChangeItem($event)"
      >
        <div>
          <svg
            width="800"
            height="1000"
            viewBox="0 0 820 auto"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0_1495_38211)">
              <rect width="820" height="78" fill="#0D141A" />
              <path
                d="M42.03 35.634V36.866C42.38 36.824 42.94 36.81 43.206 36.81H46.356V43.25H42.408C42.03 43.25 41.596 43.222 41.176 43.166V44.44C41.61 44.398 42.03 44.384 42.408 44.384H51.662C51.942 44.384 52.446 44.384 52.824 44.44V43.166C52.46 43.208 52.082 43.25 51.662 43.25H47.546V36.81H50.906C51.298 36.81 51.746 36.824 52.096 36.866V35.634C51.76 35.676 51.326 35.718 50.906 35.718H43.206C42.926 35.718 42.394 35.69 42.03 35.634ZM65.564 34.374H64.248C64.29 34.724 64.318 35.116 64.318 35.592V37.804C64.318 40.45 64.15 41.584 63.156 42.746C62.288 43.726 61.098 44.286 59.81 44.608L60.72 45.574C61.742 45.224 63.142 44.622 64.052 43.53C65.06 42.326 65.522 41.22 65.522 37.86V35.592C65.522 35.116 65.536 34.724 65.564 34.374ZM59.068 34.486H57.794C57.822 34.752 57.85 35.242 57.85 35.494V40.156C57.85 40.576 57.808 41.024 57.78 41.234H59.068C59.04 40.982 59.012 40.52 59.012 40.17V35.494C59.012 35.158 59.04 34.752 59.068 34.486ZM82.434 35.536L81.748 34.878C81.538 34.92 81.034 34.962 80.768 34.962H72.732C72.214 34.962 71.626 34.906 71.136 34.836V36.11C71.682 36.054 72.214 36.026 72.732 36.026H80.712C80.25 36.894 78.934 38.42 77.646 39.162L78.57 39.904C80.166 38.798 81.496 36.992 82.056 36.04C82.154 35.886 82.336 35.676 82.434 35.536ZM76.848 37.384H75.588C75.63 37.748 75.644 38.056 75.644 38.392C75.644 40.73 75.336 42.718 73.166 44.048C72.774 44.328 72.298 44.552 71.906 44.678L72.942 45.518C76.512 43.74 76.848 41.178 76.848 37.384Z"
                fill="#99B4CC"
              />
              <path
                d="M221.605 36.563C220.864 35.952 219.447 34.899 218.355 34.171L217.718 34.86C218.81 35.601 220.214 36.68 220.968 37.343L221.605 36.563ZM215.625 38.045C215.378 39.462 214.858 41.204 214.143 42.322L215.04 42.699C215.768 41.555 216.249 39.709 216.535 38.266L215.625 38.045ZM219.577 44.935C218.836 44.935 218.693 44.818 218.693 44.207V42.79C221.345 40.723 223.425 38.084 224.894 35.302L223.932 34.912C222.749 37.291 220.955 39.644 218.693 41.568V37.278H217.692V42.374C216.6 43.193 215.417 43.908 214.156 44.48C214.351 44.662 214.637 45.013 214.78 45.234C215.807 44.74 216.769 44.168 217.692 43.544V44.194C217.692 45.533 218.095 45.884 219.499 45.884H222.112C223.516 45.884 223.841 45.182 223.984 42.881C223.698 42.816 223.295 42.647 223.035 42.452C222.944 44.519 222.827 44.935 222.073 44.935H219.577ZM223.256 38.877C224.114 40.164 224.985 41.906 225.323 43.05L226.233 42.608C225.882 41.464 225.011 39.761 224.114 38.487L223.256 38.877ZM237.959 38.786H233.604V37.538H237.959V38.786ZM237.959 40.762H233.604V39.488H237.959V40.762ZM237.959 42.738H233.604V41.464H237.959V42.738ZM232.694 36.784V43.492H238.908V36.784H235.84C235.97 36.42 236.1 36.004 236.23 35.601H239.363V34.756H232.096V35.601H235.125C235.06 35.978 234.956 36.407 234.865 36.784H232.694ZM230.809 34.353C230.042 35.263 228.677 36.264 227.546 36.836C227.806 37.005 228.092 37.304 228.261 37.525C229.431 36.849 230.809 35.796 231.719 34.73L230.809 34.353ZM231.043 37.967C230.289 38.981 228.898 40.021 227.715 40.619C227.975 40.814 228.248 41.126 228.43 41.36C229.665 40.645 231.056 39.501 231.927 38.344L231.043 37.967ZM231.316 41.581C230.536 42.946 229.015 44.22 227.507 44.935C227.767 45.143 228.053 45.468 228.196 45.702C229.795 44.857 231.316 43.479 232.226 41.932L231.316 41.581ZM234.15 43.778C233.513 44.337 232.187 44.974 231.082 45.312C231.264 45.507 231.563 45.806 231.693 46.001C232.824 45.624 234.15 44.961 234.982 44.311L234.15 43.778ZM236.334 44.35C237.205 44.818 238.349 45.533 238.908 46.014L239.662 45.429C239.064 44.948 237.92 44.259 237.049 43.83L236.334 44.35Z"
                fill="#22C5E6"
              />
              <path
                d="M282.184 43.778V36.238H284.602C284.498 38.643 284.16 40.463 282.379 41.451C282.587 41.62 282.873 41.945 282.99 42.166C284.979 40.996 285.395 38.968 285.538 36.238H287.254V39.956C287.254 40.749 287.345 40.957 287.566 41.126C287.774 41.282 288.125 41.347 288.424 41.347H289.308C289.568 41.347 289.906 41.321 290.088 41.23C290.309 41.139 290.452 40.996 290.543 40.762C290.634 40.541 290.66 39.917 290.686 39.384C290.439 39.319 290.114 39.15 289.945 38.994C289.932 39.553 289.919 39.995 289.88 40.177C289.841 40.359 289.763 40.463 289.672 40.502C289.594 40.528 289.399 40.541 289.243 40.541H288.645C288.489 40.541 288.372 40.528 288.281 40.489C288.203 40.437 288.177 40.294 288.177 40.047V36.238H290.829V43.778H282.184ZM281.209 35.302V45.624H282.184V44.688H290.829V45.52H291.83V35.302H281.209ZM299.89 42.439V40.255H302.49V39.423H299.89V37.577H302.815V36.706H296.172V37.577H298.98V39.423H296.536V40.255H298.98V42.439H295.99V43.258H303.075V42.439H299.89ZM300.709 40.827C301.177 41.269 301.723 41.893 301.97 42.296L302.633 41.906C302.373 41.503 301.801 40.905 301.32 40.489L300.709 40.827ZM295.132 44.454V35.614H303.829V44.454H295.132ZM294.17 34.717V46.001H295.132V45.351H303.829V46.001H304.83V34.717H294.17Z"
                fill="#22C5E6"
              />
              <path d="M765 42L761 36H769L765 42Z" fill="#5B758C" />
              <path d="M780 77.5H40V78.5H780V77.5Z" fill="#1A2733" />
            </g>
          </svg>
        </div>
      </BaseModal>
      <BaseModal
        :visible="visible[3]"
        :current-record="1"
        :total-records="128"
        title="販売先詳細"
        account-name="Account Name"
        date="2023/04/07 16:06"
        :hide-delete-action="true"
        @click="handleActionModal($event, 3)"
        @change="handleChangeItem($event)"
      >
        <div class="d-flex justify-center align-center">Hide Button Delete</div>
      </BaseModal>
      <BaseModal
        :visible="visible[4]"
        :current-record="1"
        :total-records="128"
        title="販売先詳細"
        account-name="Account Name"
        date="2023/04/07 16:06"
        :hide-delete-action="true"
        @click="handleActionModal($event, 4)"
        @change="handleChangeItem($event)"
      >
        <div class="d-flex justify-center align-center">Data Change Delete</div>
      </BaseModal>
    </div>
  </div>
</template>

<script>
import BaseModal from '@/components/commonApp/BaseModal.vue'
import { ACTION_TYPE } from '~/constants/modal'

export default {
  components: {
    BaseModal,
  },
  layout: 'empty',
  data: () => ({
    visible: [false, false, false, false, false, false],
    actionType: ACTION_TYPE,
  }),
  methods: {
    openModal(index) {
      this.visible.splice(index, 1, true)
    },
    handleActionModal(type, index) {
      if (
        [ACTION_TYPE.CANCEL, ACTION_TYPE.CLICK_OUTSIDE].includes(type) &&
        index === 4
      ) {
        return this.handleCancelWhenChangeData()
      }
      this.visible.splice(index, 1, false)
    },
    handleCancelWhenChangeData() {
      const value = confirm('Are you sure you want to close modal')
      if (value) {
        this.visible.splice(4, 1, false)
      }
    },
    handleChangeItem(event) {
      // return index of item in list
    },
  },
}
</script>
<style lang="scss">
.base-modal-container {
  padding: 25px;
}
.mb-4 {
  margin-bottom: 1rem;
}
.col {
  display: flex;
  flex-direction: column;
  span {
    margin-bottom: 20px;
    cursor: pointer;
  }
}
</style>
